<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Colibri Business</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-adsense-account" content="ca-pub-6556731339911291">

<!-- Google AdSense -->
<script data-ad-client="ca-pub-6556731339911291" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#e6f0ff;
}

/* HEADER */
header{
  background:#1E3A8A;
  color:white;
  padding:14px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

header h1{
  font-size:20px;
  margin:0;
}

/* RIGHT ACTION */
#startBtn{
  background:white;
  color:#1E3A8A;
  border:none;
  padding:8px 14px;
  border-radius:20px;
  font-weight:bold;
  cursor:pointer;
}

.avatar{
  width:40px;
  height:40px;
  border-radius:50%;
  object-fit:cover;
  cursor:pointer;
  display:none;
  background:#c7d2fe;
}

/* HERO */
.hero{
  padding:40px 20px;
  text-align:center;
}

.hero h2{
  color:#1E3A8A;
  font-size:26px;
  margin-bottom:10px;
}

.hero p{
  color:#334155;
  font-size:15px;
  margin-bottom:20px;
}

.hero button{
  background:#1E3A8A;
  color:white;
  border:none;
  padding:14px 24px;
  border-radius:28px;
  font-size:16px;
  cursor:pointer;
}

/* FEATURES */
.features{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;
  padding:20px;
}

.feature{
  background:white;
  padding:16px;
  border-radius:14px;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
  text-align:center;
}

.feature i{
  font-size:26px;
  color:#1E3A8A;
}

.feature h3{
  margin:10px 0 6px;
  color:#1E3A8A;
}

.feature p{
  font-size:14px;
  color:#334155;
}

/* FOOTER MENU */
.menu{
  position:fixed;
  bottom:0;
  width:100%;
  background:#1E3A8A;
  display:flex;
  justify-content:space-around;
  padding:10px 0;
}

.menu a{
  color:white;
  font-size:20px;
}

/* AD BLOCK */
.ad-container{
  margin:20px auto;
  text-align:center;
}
</style>
</head>

<body>

<header>
  <h1>Colibri Business</h1>

  <!-- Bouton Commencer -->
  <button id="startBtn" onclick="location.href='auth.html'">
    Commencer
  </button>

  <!-- Avatar -->
  <img id="avatar" class="avatar" onclick="location.href='profil.html'">
</header>

<section class="hero">
  <h2>Vendez & achetez simplement</h2>
  <p>Colibri Business aide les vendeurs à gérer, publier et vendre leurs produits facilement.</p>
  <button onclick="location.href='achat.html'">
    Voir les produits
  </button>
</section>

<!-- AD SENSE -->
<div class="ad-container">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

<section class="features">
  <div class="feature">
    <i class="fas fa-store"></i>
    <h3>Boutique simple</h3>
    <p>Publiez vos produits en quelques secondes.</p>
  </div>

  <div class="feature">
    <i class="fas fa-box"></i>
    <h3>Commandes claires</h3>
    <p>Suivez vos ventes et commandes facilement.</p>
  </div>

  <div class="feature">
    <i class="fas fa-chart-line"></i>
    <h3>Statistiques</h3>
    <p>Analysez vos performances en temps réel.</p>
  </div>
</section>

<nav class="menu">
  <a href="index.html"><i class="fas fa-home"></i></a>
  <a href="achat.html"><i class="fas fa-store"></i></a>
  <a href="vente.html"><i class="fas fa-plus"></i></a>
  <a href="profil.html"><i class="fas fa-user"></i></a>
</nav>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

const app = initializeApp({
  apiKey:"AIzaSyA45eoz8QZbHdFlOmuK6l6yjfJC3JaF2jQ",
  authDomain:"collibri-buisiness.firebaseapp.com",
  databaseURL:"https://collibri-buisiness-default-rtdb.firebaseio.com",
  projectId:"collibri-buisiness"
});

const auth = getAuth(app);
const db = getDatabase(app);

const startBtn = document.getElementById("startBtn");
const avatar = document.getElementById("avatar");

onAuthStateChanged(auth, async user => {
  if(user){
    startBtn.style.display = "none";
    avatar.style.display = "block";

    const snap = await get(ref(db,"users/"+user.uid));
    if(snap.exists()){
      avatar.src = snap.val().avatarBase64 || "";
    }
  }else{
    startBtn.style.display = "block";
    avatar.style.display = "none";
  }
});
</script>

</body>
</html>
